resourceserver:
  serviceName: resourceserver
  port: 8080
  disableTLS: true
  disableTelemetry: true
  region: local
  numAccounts: 20
  usage:
    enabled: true
    #type: http
    #url: http://usageserver:8090/usage/set
    type: amqp
    url: amqp://rabbitmq:5672
    options:
      vhost: ratelimiter
      exchangename: resourcecount
      user: ratelimiter
      password: pass
    delayReportSec: 5

usageserver:
  serviceName: usageserver
  port: 8090
  disableTLS: true
  disableTelemetry: true
  usageDB: "postgres://postgres:postgres@db:5432/usage?sslmode=disable"
  msgSubscription:
    url: amqp://rabbitmq:5672
    user: ratelimiter
    password: pass
    vhost: ratelimiter
    exchangename: resourcecount
    queue: usagedata
    queueManager:
      enabled: true
      url: http://rabbitmq:15672
      user: ratelimiter
      password: pass
      queuePrefix: usagedata
  leaderElection:
    url: redis:6379
  peerDiscovery:
    gossipBindAddr: 0.0.0.0
    gossipPort: 18090
    seedPeers:
     - url: "usageserver01:18090"
     - url: "usageserver02:18090"
